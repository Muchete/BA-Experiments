!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=0)}([function(t,e,n){n(1),t.exports=n(2)},function(t,e,n){},function(t,e,n){var o=function(t,e,n,o){var i,r,a,s,c=(i=e||t,a=(r=n||t)[0]-i[0],s=r[1]-i[1],{length:Math.sqrt(Math.pow(a,2)+Math.pow(s,2)),angle:Math.atan2(s,a)}),l=c.angle+(o?Math.PI:0),u=.25*c.length;return[t[0]+Math.cos(l)*u,t[1]+Math.sin(l)*u]},i=function(t,e,n){var i=o(n[e-1],n[e-2],t),r=o(t,n[e-1],n[e+1],!0);return"C ".concat(i[0],",").concat(i[1]," ").concat(r[0],",").concat(r[1]," ").concat(t[0],",").concat(t[1])},r=function(t){return t.reduce((function(t,e,n,o){return 0===n?"M ".concat(e[0],",").concat(e[1]):"".concat(t," ").concat(i(e,n,o))}),"")};function a(){var t=$(".width-dynamic").textWidth()+4;$(".width-dynamic").css({width:t})}$.fn.textWidth=function(t,e){return $.fn.textWidth.fakeEl||($.fn.textWidth.fakeEl=$("<span>").hide().addClass("fakeEl").appendTo(document.body)),$.fn.textWidth.fakeEl.text(t||this.val().replace(/[ \t]+$/g,".")||this.text()||this.attr("placeholder")).css("font",e||this.css("font")),$.fn.textWidth.fakeEl.width()},$(".width-dynamic").on("input",a).trigger("input"),$(document).ready((function(){a()}));$(".width-dynamic");!function(t,e,n){$(this)}();var s,c,l,u="https://en.wikipedia.org/w/api.php?action=query&origin=*&list=search&utf8=&format=json&srlimit=500&srsearch=",f="https://en.wikipedia.org/w/api.php?action=parse&origin=*&format=json&prop=text&page=",d=(document.querySelector("#round-svg"),document.querySelector("#title")),h=document.querySelector("#link"),p=(document.querySelector("#resultDiv"),document.querySelector("#userinput")),m=!1,g=!0,y=.8,v=.65,w=!0,k=[];function b(){g?(s=p.value)&&function(t){g=!1,D(),$("#title").fadeOut("fast",e),x(!0),O(),function(t){var e=u+t;$.ajax({url:e,dataType:"json"}).done(M).fail((function(t){T("Search Failed. Sorry!"),m&&console.log("Error while searching for term:"+t)}))}(t);var e}(s):($("#title").add("#title .term").addClass("warn"),setTimeout((function(){$("#title").add("#title .term").removeClass("warn")}),500))}function x(t){$("#resultDiv").fadeOut("fast",(function(){t&&$(this).empty()}))}function S(t,e){d.innerText=t,$("#title").fadeIn("fast",e)}function j(t,e){$("#title").fadeOut("fast",(function(){S(t,e)}))}function T(t){S(t),h.href="#",g=!0}function M(t){if(t.query.search.length){var e=t.query.search.length-1-Math.floor((n=v,o=y,(Math.random()*(+o-+n)+ +n)*t.query.search.length));c=t.query.search[e].title,t.query.search[0].title,l=c,S(c,(function(){var n;m&&(console.log("Loaded Article "+e+" of "+t.query.search.length),console.log("Querying: "+c)),c=c.replace(/\s+/g,"_"),h.href="https://en.wikipedia.org/wiki/"+c,n={title:c,cardTitle:l,term:s,home:!1},window.history.pushState(n,"");var o=f+c;$.ajax({url:o,dataType:"json"}).done(C).fail((function(t){T("Couldn't load article. Sorry!"),m&&console.log("Error while parsing data:"+t)}))}))}else T("No results. Sorry!");var n,o}function C(t){try{var e=t.parse.text["*"];$("#resultDiv").html(e).promise().done(q)}catch(t){T("Couldn't load article. Sorry!"),m&&console.log("Error while parsing data:"+t)}}function q(){$(this).find("a").each((function(t,e){var n=$(this).attr("href");n&&"/wiki"==n.substring(0,5)&&($(this).attr("href","#"),$(this).click((function(t){if($(this).attr("title")){var e=$(this).attr("title");$("#title").fadeOut({duration:"fast",start:function(){x(),O()},complete:function(){d.innerText=e,$("#title").fadeIn({complete:function(){var t=e.replace(/\s+/g,"_");h.href="https://en.wikipedia.org/wiki/"+t;var n=f+t;$.ajax({url:n,dataType:"json"}).done(C).fail((function(t){T("Couldn't load article. Sorry!"),m&&console.log("Error while parsing article:"+t)}))}})}})}})))})),$(this).find("style").add(".mw-empty-elt").remove(),$(this).find("*").each((function(t,e){"none"==$(this).css("display")&&$(this).remove(),$(this).removeAttr("bgcolor"),$(this).removeAttr("style")})),$(this).find("img").removeAttr("width").removeAttr("height"),$(this).add("#title").mark(s,{element:"span",className:"term"}),$(this).prepend('<div class="left-lane"></div>'),$(this).find(".infobox").add(".toc").add(".tright").add(".vertical-navbox").appendTo(".left-lane"),$(".mw-parser-output > p:first").addClass("first-p"),E(),$("img").on("load",E),$("#resultDiv").find("*").on("load",E),g=!0,$("#resultDiv").fadeIn({duration:"fast",start:function(){E()}})}function O(){$("#svgContainer").fadeOut("fast",(function(){$(this).find("svg path").attr("d","")}))}function E(){k=[];var t=$("input.search"),e=$("body"),n=t.offset().left-e.offset().left+t.width()/2,o=t.position().top-e.offset().top+t.height()/2;k.push([n,o]),$("span.term").each((function(i,r){t=$(this),n=t.offset().left-e.offset().left+t.width()/2,o=t.offset().top-e.offset().top+t.height()/2,k.push([n,o])})),$("#round-svg path").attr("d",r(k));try{var i=document.querySelector("#round-svg path").getTotalLength();$("#round-svg path").css({"stroke-dasharray":i,"stroke-dashoffset":i,"animation-duration":Math.round(i/1500)+"s"})}catch(t){m&&console.log(t)}$("#svgContainer").fadeIn("fast")}function A(){var t;w=!0,$("#resultDiv").fadeOut({duration:"fast",start:function(){O(),$("#title").fadeOut("fast")},complete:function(){t&&$(this).empty()}}),j("Lateral Computation",(function(){$("#resultDiv").html('<div class="mw-parser-output" style=""><p class="first-p"><i><b>Lateral Computation</b></i> is the outcome of a Bachelor of Arts project at the <a href="http://www.iad.zhdk.ch" title="Interaction Design">Interaction Design</a> departement of the <a href="http://www.zhdk.ch" title="ZHdK">ZHdK</a>, developed by <a href="http://www.michaelschoenenberger.ch" title="Michael Schönenberger">Michael Schönenberger</a>.</p><h2>How to use</h2><p>In order to make use of the knowledge retrieval system, enter a term in the search field above and then click on the arrow sign next to the input field or the <i>Enter</i> key on your keyboard.</p><h2>Project Description</h2><p>The presence of computer networks and the associated algorithms rises daily. Filter systems on the internet offer less and less room for unexpected, yet refreshing, encounters. As most of the existing systems aim for precision and personalization of these filters there are little applications that address the aforementioned aspect. Lateral Computation explores the potential of enforcing serendipity in knowledge retrieval systems by making use of alternative computation. The experiments implemented within this thesis have been utilized to analyze users behavior and the very nature of serendipitous confrontations. Lateralcomputation.ch - being the practical outcome of previous testings and experiences - is a website that makes use of the MediaWiki API to display articles of knowledge. After querying a term, the user stumbles upon a serendipitous article in relation to the entered term.</p></div></div>').promise().done(q)}))}function D(){w=!1,console.log("exit")}window.history.pushState({home:!0},""),$("#userinput").keypress((function(t){"13"==(t.keyCode?t.keyCode:t.which)&&b()})),$("#search-button").click(b),window.onpopstate=function(t){m&&console.log("POPSTATE: "+t),t.state&&(x(),O(),t.state.home?(m&&console.log("home"),A()):(D(),p.value=t.state.term,j(t.state.cardTitle,(function(){var e=f+t.state.title;$.ajax({url:e,dataType:"json"}).done(C).fail((function(t){T("Couldn't load article. Sorry!"),m&&console.log("Error while parsing data:"+t)}))}))),a())},window.onresize=function(t){E(),a()},$("#projTitle").click((function(){w||A()}))}]);